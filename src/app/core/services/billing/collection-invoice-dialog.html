<div class="modal-header">
  <h3 class="modal-title" id="modal-title">{{vm.title}}</h3>
</div>
<div class="modal-body" id="modal-body">



  <p>Please enter invoice details</p>
  <form ng-submit="vm.ok();vm.resetForm();" name="vm.invoiceform" class="form-horizontal" role="form" novalidate>
    <fieldset>
      <legend>Invoice Details:</legend>
      <div class="form-group" id="classification-group" name="classification-group" ng-class="{ 'has-error': (vm.invoiceform.invoiceDate.$touched && vm.invoiceform.invoiceDate.$invalid) || (vm.invoiceform.discount.$touched && vm.invoiceform.discount.$invalid) || (vm.invoiceform.reference.$touched && vm.invoiceform.reference.$invalid) }"
        ng-disabled="!vm.guardSvc.authorized()">
        <label class="col-sm-3 control-label">Financials Info</label>
        <div class="col-sm-9">
          <div class="row">
            <div class="col-lg-4">
              <input type="text" id="invoiceDate" name="invoiceDate" class="form-control" date-time data-ng-model="vm.invoice.invoiceDate">


              <div ng-messages="vm.invoiceform.invoiceDate.$error" ng-show="vm.invoiceform.invoiceDate.$touched  && vm.invoiceform.invoiceDate.$invalid"
                class="help-block">
                <div ng-message="required">InvoiceDate is required.</div>
              </div>
            </div>
            <div class="col-lg-4">
              <input type="text" id="reference" name="reference" data-ng-model="vm.invoice.reference" ng-minlength="2" ng-maxlength="10"
                required class="text-primary form-control" placeholder="Reference" validate-on="blur" clear-on="focus" />

              <div ng-messages="vm.invoiceform.reference.$error" ng-show="vm.invoiceform.reference.$touched  && vm.invoiceform.reference.$invalid"
                class="help-block">
                <div ng-message="required">Reference is required.</div>
                <div ng-message="minlength">Your value for Reference is too short</div>
                <div ng-message="maxlength">Your value for Reference is too long</div>
              </div>
            </div>
            <div class="col-lg-4">
              <input type="number" min="0.00" step="0.01" id="discount" name="discount" data-ng-model="vm.invoice.discount" class="text-primary form-control"
                placeholder="Discount" />

              <div ng-messages="vm.invoiceform.discount.$error" ng-show="vm.invoiceform.discount.$touched  && vm.invoiceform.discount.$invalid"
                class="help-block">
                <div ng-message="required">Discount is required.</div>
              </div>
            </div>
          </div>
        </div>
      </div>



      <div class="form-group" id="amounts-group" name="amounts-group" ng-class="{ 'has-error': (vm.invoiceform.receiptNo.$touched && vm.invoiceform.receiptNo.$invalid) || (vm.invoiceform.amount.$touched && vm.invoiceform.amount.$invalid)}"
        ng-disabled="!vm.guardSvc.authorized()">
        <label class="col-sm-3 control-label">Transaction Details</label>
        <div class="col-sm-9">
          <div class="row">
            <div class="col-lg-6">
              <div class="input-group">
                <div class="input-group-addon">$</div>
                <input type="text" id="amount" name="amount" required ng-curency data-ng-model="vm.invoice.amount" class="text-primary form-control"
                  placeholder="Invoice Amount" />
                <span class="input-group-btn"> <button type="button" class="btn btn-success">Calculate</button> </span>
              </div>
              <div ng-messages="vm.invoiceform.amount.$error" ng-show="vm.invoiceform.amount.$touched && vm.invoiceform.amount.$invalid"
                class="help-block">
                <div ng-message="required">Invoice Amount is required.</div>
              </div>


            </div>
            <!-- /.col-lg-6 -->
            <div class="col-lg-6">
              <select id="collectorId" name="collectorId" class="form-control" required data-ng-model="vm.invoice.collectorId" data-ng-options="collector.id as collector.name for collector in vm.collectors">
 <option value="" disabled selected>Select Collector</option> 
								</select>
              <div ng-messages="vm.invoiceform.collectorId.$error" ng-show="vm.invoiceform.collectorId.$touched && vm.invoiceform.collectorId.$invalid"
                class="help-block">
                <div ng-message="required">Collector is Required</div>
              </div>
            </div>
            <!-- /.col-lg-6 -->
          </div>
          <!-- /.row -->
        </div>
      </div>
      <div class="form-group" id="charges-group" name="charges-group" ng-class="{ 'has-error': (vm.invoiceform.administrativeFee.$touched && vm.invoiceform.administrativeFee.$invalid) ||
 (vm.invoiceform.legalFee.$touched && vm.invoiceform.legalFee.$invalid) || 
 (vm.invoiceform.interest.$touched && vm.invoiceform.interest.$invalid) ||
 (vm.invoiceform.tax.$touched && vm.invoiceform.tax.$invalid) }" ng-disabled="!vm.guardSvc.authorized()">
        <label class="col-sm-3 control-label">Charges</label>
        <div class="col-sm-9">
          <div class="row">
            <div class="col-lg-3">
              <input type="text" id="administrativeFee" name="administrativeFee" ng-currency data-ng-model="vm.invoice.administrativeFee" class="text-primary form-control"
                placeholder="Administrative Fees" />
              <div ng-messages="vm.invoiceform.administrativeFee.$error" ng-show="vm.invoiceform.administrativeFee.$touched && vm.invoiceform.administrativeFee.$invalid"
                class="help-block">
                <div ng-message="required">Administrative Fee is required.</div>
              </div>
            </div>
            <!-- /.col-lg-3 -->
            <div class="col-lg-3">
              <input type="text" id="legalFee" name="legalFee" ng-currency data-ng-model="vm.invoice.legalFee" class="text-primary form-control" placeholder="Legal Fees"
              />
              <div ng-messages="vm.invoiceform.legalFee.$error" ng-show="vm.invoiceform.legalFee.$touched && vm.invoiceform.legalFee.$invalid"
                class="help-block">
                <div ng-message="required">Legal Fee is required.</div>
              </div>
            </div>
            <!-- /.col-lg-3 -->
            <div class="col-lg-3">
              <input type="text" id="interest" name="interest" ng-currency data-ng-model="vm.invoice.interest" class="text-primary form-control" placeholder="Interest"
              />
              <div ng-messages="vm.invoiceform.interest.$error" ng-show="vm.invoiceform.interest.$touched && vm.invoiceform.interest.$invalid"
                class="help-block">
                <div ng-message="required">Interest is required.</div>
              </div>
            </div>
            <!-- /.col-lg-3 -->
            <div class="col-lg-3">
              <input type="text" id="tax" name="tax" ng-currency data-ng-model="vm.invoice.tax" class="text-primary form-control" placeholder="Tax"
              />
              <div ng-messages="vm.invoiceform.tax.$error" ng-show="vm.invoiceform.tax.$touched && vm.invoiceform.tax.$invalid" class="help-block">
                <div ng-message="required">Tax is required.</div>
              </div>
            </div>
            <!-- /.col-lg-3 -->
          </div>
          <!-- /.row -->
        </div>
      </div>


      <div class="form-group" id="payCharges-group" name="payCharges-group" ng-class="{ 'has-error': (vm.invoiceform.commission.$touched && vm.invoiceform.commission.$invalid) || (vm.invoiceform.gross.$touched && vm.invoiceform.gross.$invalid) }"
        ng-disabled="!vm.guardSvc.authorized()">

        <label class="col-sm-3 control-label"></label>
        <div class="col-sm-9">
          <div class="row">
            <div class="col-lg-3"> </div>
            <div class="col-lg-3"> </div>
            <div class="col-lg-3">
              <input type="text" id="commission" name="commission" ng-currency data-ng-model="vm.invoice.commission" class="text-primary form-control"
                placeholder="Commission" />
              <div ng-messages="vm.invoiceform.commission.$error" ng-show="vm.invoiceform.commission.$touched && vm.invoiceform.commission.$invalid"
                class="help-block">
                <div ng-message="required">Commission is required.</div>
              </div>
            </div>
            <div class="col-lg-3">
              <input type="text" id="gross" name="gross" ng-currency data-ng-model="vm.invoice.gross" class="text-primary form-control" placeholder="Gross"
              />
              <div ng-messages="vm.invoiceform.gross.$error" ng-show="vm.invoiceform.gross.$touched && vm.invoiceform.gross.$invalid" class="help-block">
                <div ng-message="required">Gross is required.</div>
              </div>
            </div>
          </div>
        </div>
      </div>

    </fieldset> 
 
    <div class="form-group" id="notes-group" name="notes-group" ng-class="{ 'has-error': vm.invoiceform.notes.$touched && vm.invoiceform.notes.$invalid}"
      ng-disabled="!vm.guardSvc.authorized()">


      <label for="notes" class="col-sm-3 control-label" uib-tooltip="Tooltip For Notes">Notes</label>

      <div class="col-sm-9">
        <textarea id="notes" name="notes" data-ng-model="vm.invoice.notes" class="text-primary form-control" cols="8" rows="3" placeholder="Notes"></textarea>

        <div ng-messages="vm.invoiceform.notes.$error" ng-show="vm.invoiceform.notes.$touched" class="help-block">
          <div ng-message="required">Notes is required.</div>
          <div ng-message="minlength">Your value for Notes is too short</div>
          <div ng-message="maxlength">Your value for Notes is too long</div>
        </div>
      </div>
    </div>
 
  </form>


</div>
<div class="modal-footer">
  <button type="button" class="btn btn-md btn-primary" ng-click="vm.ok()" ng-disabled=!vm.invoiceform.$valid value="Save Invoice">Submit</button>
  <button type="button" class="btn btn-md btn-warning" ng-click="vm.cancel()" value="Cancel Invoice">Cancel</button>
</div>
